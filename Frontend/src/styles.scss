/* Global Styles ported from React/Tailwind */
@import 'bootstrap/scss/bootstrap';

/* Font Import */
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Cairo:wght@400;500;600;700;800&display=swap');

.font-arabic {
  font-family: 'Cairo', sans-serif !important;
}

[dir="rtl"] {
  text-align: right;

  // Flip specific icons that are directional
  .lucide-arrow-right,
  .lucide-send,
  .lucide-log-out,
  .lucide-log-in {
    transform: scaleX(-1);
  }
}

:root {
  /* Core backgrounds - warmer, deeper eggplant/charcoal */
  --background: 240 10% 8%;
  --foreground: 40 15% 94%;

  /* Cards - softer, floating appearance */
  --card: 240 10% 12%;
  --card-foreground: 40 15% 94%;

  /* Popovers */
  --popover: 240 10% 10%;
  --popover-foreground: 40 15% 94%;

  /* Primary - more vibrant, 'electric' but still friendly violet */
  --primary: 265 85% 78%;
  --primary-foreground: 240 10% 8%;

  /* Secondary - soft dusty periwinkle */
  --secondary: 230 25% 22%;
  --secondary-foreground: 40 10% 90%;

  /* Muted elements */
  --muted: 240 10% 16%;
  --muted-foreground: 220 12% 65%;

  /* Accent - gentle lavender wash */
  --accent: 260 40% 22%;
  --accent-foreground: 260 50% 90%;

  /* Status colors - more readable but soft */
  --success: 155 50% 65%;
  --success-foreground: 155 40% 95%;

  --pending: 45 60% 70%;
  --pending-foreground: 40 60% 10%;

  --destructive: 355 65% 75%;
  --destructive-foreground: 355 50% 98%;

  /* Borders and inputs - softer contrast */
  --border: 240 10% 20%;
  --input: 240 10% 18%;
  --ring: 265 85% 78%;

  --radius: 1.5rem;

  /* Custom BluntBox tokens - refined lighting */
  --glow-primary: 265 85% 78%;
  --glow-secondary: 230 50% 70%;
  --surface-hover: 240 12% 20%;
  --text-soft: 40 15% 90%;
  --text-whisper: 220 12% 65%;
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: 'Quicksand', sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* Utility Class Mappings to match Tailwind names locally */
.bg-background {
  background-color: hsl(var(--background));
}

.text-foreground {
  color: hsl(var(--foreground));
}

.text-text-soft {
  color: hsl(var(--text-soft));
}

.text-text-whisper {
  color: hsl(var(--text-whisper));
}

.text-primary {
  color: hsl(var(--primary));
}

.bg-primary {
  background-color: hsl(var(--primary));
}

.bg-card {
  background-color: hsl(var(--card));
}

.border-border {
  border-color: hsl(var(--border)) !important;
}

/* Custom Components */
.notebook-input {
  /* Darker background for inputs - avoid flashbang */
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: 0.75rem;
  padding: 0.75rem 1rem;
  color: hsl(var(--foreground)) !important;
  /* Force light text */
  caret-color: hsl(var(--primary));
  /* Visible caret */
  transition: all 0.2s;

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.3);
    border-color: hsl(var(--primary) / 0.5);
    background-color: hsl(var(--popover));
    /* Slightly lighter on focus but still dark */
    color: hsl(var(--foreground)) !important;
  }

  /* Handle disabled/readonly states for better contrast */
  &:disabled,
  &[readonly] {
    background-color: hsl(var(--muted) / 0.5) !important;
    color: hsl(var(--foreground)) !important;
    opacity: 1;
    /* Reset browser default low opacity */
    cursor: default;
    border-color: hsl(var(--border));
  }

  &::placeholder {
    color: hsl(var(--muted-foreground));
  }
}

.message-card {
  background-color: hsl(var(--card)) !important;
  transition: transform 0.2s, box-shadow 0.2s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
    /* Stronger shadow for depth */
  }
}

.btn-hero {
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary) / 0.85) 100%);
  color: hsl(var(--primary-foreground));
  font-weight: 700;
  letter-spacing: 0.5px;
  border: 1px solid hsl(var(--primary) / 0.2);
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

  &:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 12px 30px -8px hsl(var(--primary) / 0.5);
    opacity: 1;
  }

  &:active {
    transform: translateY(0) scale(0.98);
  }
}

.btn-outline-border {
  border: 1px solid hsl(var(--border) / 0.8);
  background: hsl(var(--card) / 0.4);
  color: hsl(var(--foreground));
  backdrop-filter: blur(4px);
  transition: all 0.3s ease;

  &:hover {
    background-color: hsl(var(--primary) / 0.15);
    border-color: hsl(var(--primary) / 0.5);
    color: hsl(var(--primary)) !important;
    transform: translateY(-2px);
  }
}

.glass-card-premium {
  background: linear-gradient(135deg, hsl(var(--card) / 0.9) 0%, hsl(var(--card) / 0.7) 100%) !important;
  backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid hsl(var(--border) / 0.5);
  box-shadow:
    0 10px 30px -10px rgba(0, 0, 0, 0.5),
    inset 0 0 20px -10px hsl(var(--primary) / 0.2);
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, hsl(var(--primary) / 0.3), transparent);
  }
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

// --- Vibrant UI Tokens ---

.text-gradient-primary {
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary) / 0.8) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.bg-dot-pattern {
  background-image: radial-gradient(hsl(var(--foreground) / 0.1) 1px, transparent 1px);
  background-size: 32px 32px;
}

.glassmorphism {
  background: hsl(var(--card) / 0.8) !important;
  /* Increased opacity for 'softer' feel */
  backdrop-filter: blur(8px) saturate(150%);
  /* Reduced blur */
  -webkit-backdrop-filter: blur(8px) saturate(150%);
  border: 1px solid hsl(var(--border) / 0.4);
}

.glass-hover {
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

  &:hover {
    background: hsl(var(--foreground) / 0.08);
    border-color: hsl(var(--primary) / 0.4) !important;
    transform: translateY(-4px);
    box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.3);
  }
}

.shadow-primary-glow {
  box-shadow: 0 20px 50px -12px hsl(var(--primary) / 0.25);
  /* Wider, softer shadow, less 'neon' */
}

.shadow-info-glow {
  box-shadow: 0 20px 50px -12px rgba(56, 189, 248, 0.25);
}

.shadow-success-glow {
  box-shadow: 0 20px 50px -12px rgba(16, 185, 129, 0.25);
}

.bg-primary-glow {
  background: hsl(var(--primary));
  box-shadow: 0 10px 30px -5px hsl(var(--primary) / 0.6);
}

.bg-info-glow {
  background: #38bdf8;
  box-shadow: 0 10px 30px -5px rgba(56, 189, 248, 0.5);
}

.bg-success-glow {
  background: #10b981;
  box-shadow: 0 10px 30px -5px rgba(16, 185, 129, 0.5);
}

// Organic animations
@keyframes breathe {

  0%,
  100% {
    transform: scale(1);
    opacity: 0.8;
  }

  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

.animate-breathe {
  animation: breathe 4s ease-in-out infinite;
}

@keyframes glow-pulse {

  0%,
  100% {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.2);
  }

  50% {
    box-shadow: 0 0 40px hsl(var(--primary) / 0.5);
  }
}

.animate-glow-pulse {
  animation: glow-pulse 3s infinite;
}

.ambient-blob {
  position: absolute;
  width: 900px;
  height: 900px;
  border-radius: 50%;
  filter: blur(160px);
  opacity: 0.12;
  z-index: 0;
  pointer-events: none;
  mix-blend-mode: plus-lighter;

  &.primary {
    background: radial-gradient(circle, hsl(var(--primary)) 0%, transparent 70%);
    animation: float-blob-global 40s infinite alternate cubic-bezier(0.45, 0, 0.55, 1);
  }

  &.secondary {
    background: radial-gradient(circle, hsl(var(--secondary)) 0%, transparent 70%);
    animation: float-blob-global 50s infinite alternate-reverse cubic-bezier(0.45, 0, 0.55, 1);
    animation-delay: -8s;
  }

  &.accent {
    background: radial-gradient(circle, hsl(var(--primary) / 0.4) 0%, transparent 70%);
    width: 600px;
    height: 600px;
    animation: float-blob-global 30s infinite alternate cubic-bezier(0.45, 0, 0.55, 1);
    animation-delay: -15s;
  }
}

@keyframes float-blob-global {
  0% {
    transform: translate(-5%, -5%) rotate(0deg) scale(1);
  }

  100% {
    transform: translate(10%, 10%) rotate(15deg) scale(1.1);
  }
}

.pulse-animation {
  animation: pulse-global 2s infinite;
}

@keyframes pulse-global {
  0% {
    box-shadow: 0 0 0 0 hsl(var(--primary) / 0.4);
    transform: scale(1);
  }

  70% {
    box-shadow: 0 0 0 15px hsl(var(--primary) / 0);
    transform: scale(1.05);
  }

  100% {
    box-shadow: 0 0 0 0 hsl(var(--primary) / 0);
    transform: scale(1);
  }
}

.section-separation {
  box-shadow: inset 0 20px 40px -20px rgba(0, 0, 0, 0.5), inset 0 -20px 40px -20px rgba(0, 0, 0, 0.5);
}